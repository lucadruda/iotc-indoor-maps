(this.webpackJsonpsetup=this.webpackJsonpsetup||[]).push([[0],{111:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(57),s=n.n(c),o=n(64),i=(n(87),n(6)),u=n(10),l=n(4),p=n(71);function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var n=1024,a=t<0?0:t,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],c=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,c)).toFixed(a))+" "+r[c]}var b=n(145),f=n(69),m=n(2),j=n.n(m),h=n(5),O=n(143),v=n(65),g=n(26),x=n.n(g),y=n(66),I=n(58),k="2.0";function w(e,t){return S.apply(this,arguments)}function S(){return(S=Object(h.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new O.a({clientId:"0523c52d-806a-4f07-9dda-8950eb13055f",tenantId:t}),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return A.apply(this,arguments)}function A(){return(A=Object(h.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new y.a(t,n),e.abrupt("return",a.apps.listBySubscription());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){return M.apply(this,arguments)}function M(){return(M=Object(h.a)(j.a.mark((function e(t,n){var a,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getToken("https://apps.azureiotcentral.com/user_impersonation");case 2:return a=e.sent,r="iotc-indm-".concat(Math.floor(2e4*Math.random())),e.next=6,x.a.put("https://".concat(n,".azureiotcentral.com/api/apiTokens/").concat(r,"?api-version=").concat("1.0"),{roles:[{role:"ca310b8d-2f4a-44e0-a36e-957c202cd8d4"}],expiry:"2023-12-31T23:59:00.000Z"},{headers:{Authorization:"Bearer ".concat(a.token)}});case 6:if(200!==(c=e.sent).status){e.next=9;break}return e.abrupt("return",c.data.token);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t,n,a){return T.apply(this,arguments)}function T(){return(T=Object(h.a)(j.a.mark((function e(t,n,a,r){var c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=0,e.next=3,x.a.post("https://".concat(n,".atlas.microsoft.com/mapData?api-version=").concat(k,"&dataFormat=dwgzippackage&subscription-key=").concat(a),t,{headers:{"Content-Type":"application/octet-stream"}});case 3:if(s=e.sent,r(c+=.1),!s.headers["operation-location"]){e.next=9;break}return e.next=8,K("".concat(s.headers["operation-location"],"&subscription-key=").concat(a),{body:"status",header:"resource-location"},(function(e){var t=e.headers["resource-location"].match(/https:\/\/us\.atlas\.microsoft\.com\/mapData\/metadata\/([\S]+)\?api-version=2\.0/);return t&&2===t.length?t[1]:null}),r);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t,n){return E.apply(this,arguments)}function E(){return(E=Object(h.a)(j.a.mark((function e(t,n,a){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("https://".concat(n,".atlas.microsoft.com/conversions?api-version=").concat(k,"&udid=").concat(t,"&inputType=DWG&subscription-key=").concat(a,"&outputOntology=facility-2.0"));case 2:if(!(r=e.sent).headers["operation-location"]){e.next=7;break}return e.next=6,K("".concat(r.headers["operation-location"],"&subscription-key=").concat(a),{body:"status",header:"resource-location"},(function(e){var t=new RegExp("https://".concat(n,".atlas.microsoft.com/conversions/([\\S]+)\\?api-version=").concat(k)),a=e.headers["resource-location"].match(t);return a&&2===a.length?a[1]:null}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t,n,a){return _.apply(this,arguments)}function _(){return(_=Object(h.a)(j.a.mark((function e(t,n,a,r){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("https://".concat(n,".atlas.microsoft.com/datasets?api-version=").concat(k,"&conversionId=").concat(t,"&subscription-key=").concat(a).concat(r?"&datasetId=".concat(r):""));case 2:if(!(c=e.sent).headers["operation-location"]){e.next=7;break}return e.next=6,K("".concat(c.headers["operation-location"],"&subscription-key=").concat(a),{body:"status",header:"resource-location"},(function(e){var t=new RegExp("https://".concat(n,".atlas.microsoft.com/datasets/([\\S]+)\\?api-version=").concat(k)),a=e.headers["resource-location"].match(t);return a&&2===a.length?a[1]:null}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,n){return G.apply(this,arguments)}function G(){return(G=Object(h.a)(j.a.mark((function e(t,n,a){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("https://".concat(n,".atlas.microsoft.com/tilesets?api-version=").concat(k,"&datasetID=").concat(t,"&subscription-key=").concat(a));case 2:if(!(r=e.sent).headers["operation-location"]){e.next=7;break}return e.next=6,K("".concat(r.headers["operation-location"],"&subscription-key=").concat(a),{body:"status",header:"resource-location"},(function(e){var t=new RegExp("https://".concat(n,".atlas.microsoft.com/tilesets/([\\S]+)\\?api-version=").concat(k)),a=e.headers["resource-location"].match(t);return a&&2===a.length?a[1]:null}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t,n){return B.apply(this,arguments)}function B(){return(B=Object(h.a)(j.a.mark((function e(t,n,a){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("https://".concat(n,".atlas.microsoft.com/featurestatesets?api-version=").concat(k,"&datasetId=").concat(t,"&subscription-key=").concat(a),{styles:[{keyName:"occupied",type:"boolean",rules:[{true:"#8e5a00",false:"#FFFFFF"}]},{keyName:"temperature",type:"number",rules:[{range:{minimum:"13",exclusiveMaximum:"18"},color:"#0000FF"},{range:{minimum:"24"},color:"#FF0000"},{range:{minimum:"18",exclusiveMaximum:"24"},color:"#00FF00"}]}]},{headers:{"Content-Type":"application/json"}});case 2:if(200!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",r.data.statesetId);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t,n,a){return U.apply(this,arguments)}function U(){return(U=Object(h.a)(j.a.mark((function e(t,n,a,r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,c){var s=0,o=setInterval(Object(h.a)(j.a.mark((function i(){var u,l;return j.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return null===r||void 0===r||r(s+=.1),i.prev=1,i.next=4,x.a.get(t);case 4:200===(u=i.sent).status&&(n.body&&"Succeeded"===u.data[n.body]||n.header&&u.headers[n.header])&&(clearInterval(o),null===r||void 0===r||r(1),(l=a(u))?e(l):c(l)),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(1),c();case 11:case"end":return i.stop()}}),i,null,[[1,8]])}))),5e3)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,t,n,a){return H.apply(this,arguments)}function H(){return(H=Object(h.a)(j.a.mark((function e(t,n,a,r){var c,s,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new v.a(t,n),e.next=3,c.deployments.createOrUpdate(a,"staticsite",{properties:{mode:"Incremental",template:I,parameters:Object.entries(Object(i.a)(Object(i.a)({},r),{},{scriptUri:"https://raw.githubusercontent.com/lucadruda/iotc-indoor-maps/indoor_maps/setup/src/azure/deployment_az.sh",siteFolder:"map-react",gitRepo:"https://github.com/lucadruda/iotc-indoor-maps",gitBranch:"indoor_maps"})).reduce((function(e,t){var n=Object(u.a)(t,2),a=n[0],r=n[1];return e[a]={value:r},e}),{})}});case 3:if(!(s=e.sent).id){e.next=7;break}if(!(null===(o=s.properties)||void 0===o?void 0:o.outputs)||!s.properties.outputs.staticWebsiteUrl){e.next=7;break}return e.abrupt("return",s.properties.outputs.staticWebsiteUrl);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=n(3),Y=["managementCredentials"],J={},W=r.a.createContext({}),Z=W.Provider,Q=function(e){var t=e.children,n=Object(a.useState)(J),r=Object(u.a)(n,2),c=r[0],s=r[1],o={read:Object(a.useCallback)((function(e){return localStorage.getItem(e)}),[]),write:Object(a.useCallback)((function(e,t){return localStorage.setItem(e,t)}),[])},l=o.read,p=o.write,d=Object(a.useCallback)(function(){var e=Object(h.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t,n);case 2:a=e.sent,s((function(e){return Object(i.a)(Object(i.a)({},e),{},{managementCredentials:a})}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[s]),b=Object(a.useCallback)((function(e){s((function(t){var n=Object(i.a)(Object(i.a)({},t),e),a=(n.managementCredentials,Object(f.a)(n,Y));return p("data",JSON.stringify(a)),n}))}),[s,p]);Object(a.useEffect)((function(){var e=l("data");e&&s((function(t){return Object(i.a)(Object(i.a)({},t),JSON.parse(e))}))}),[l]),Object(a.useEffect)((function(){c.tenantId,c.subscriptionId&&d(c.tenantId,c.subscriptionId)}),[c.tenantId,c.subscriptionId,d]);var m=Object(i.a)(Object(i.a)({},c),{},{store:b});return Object(L.jsx)(Z,{value:m,children:t})},X=r.a.memo(r.a.forwardRef((function(e,t){var n=e.enableNext,r=Object(a.useContext)(W).store,c=Object(a.useState)({subscriptionId:"2efa8bb6-25bf-4895-ba64-33806dd00780",tenantId:"4ac2d501-d648-4bd0-8486-653a65f90fc7",mapSubscriptionKey:"fzIwvA-PX2RNMM0P_9SoCSZHvX3iFD2712Qemctrqwk",resourceGroup:"lucamaps"}),s=Object(u.a)(c,2),o=s[0],l=s[1];Object(a.useImperativeHandle)(t,(function(){return{process:function(){r(o)}}}),[r,o]);var p=Object(a.useRef)(!1);return Object(a.useEffect)((function(){o.subscriptionId&&o.tenantId&&o.mapSubscriptionKey&&!p.current&&(n(),p.current=!0)}),[o,n]),Object(L.jsxs)("div",{children:[Object(L.jsx)("h2",{children:"Deploy Maps account to your Azure Subscription"}),Object(L.jsx)("p",{children:"Click on the button below to deploy the solution to your azure subscription."}),Object(L.jsx)("a",{href:"https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2Flucadruda%2Fubs-workshop%2Findoor_maps%2Fsetup%2Fazure%2Fazuredeploy.json%3Ftoken%3DAARKIISFGX2MRU7JK7VOZXTBNFEMQ",target:"_blank",rel:"noreferrer",children:Object(L.jsx)("img",{src:"https://aka.ms/deploytoazurebutton",alt:"Deploy to Azure"})}),Object(L.jsx)("div",{}),Object(L.jsxs)("div",{style:{textAlign:"start"},children:[Object(L.jsx)(b.a,{label:"Subscription Id",value:o.subscriptionId,onChange:function(e,t){l((function(e){return Object(i.a)(Object(i.a)({},e),{},{subscriptionId:t})}))}}),Object(L.jsx)(b.a,{label:"Tenant Id",value:o.tenantId,onChange:function(e,t){l((function(e){return Object(i.a)(Object(i.a)({},e),{},{tenantId:t})}))}}),Object(L.jsx)(b.a,{label:"Resource Group Name",value:o.resourceGroup,onChange:function(e,t){l((function(e){return Object(i.a)(Object(i.a)({},e),{},{resourceGroup:t})}))}}),Object(L.jsx)(b.a,{label:"Map Subscription Key",value:o.mapSubscriptionKey,onChange:function(e,t){l((function(e){return Object(i.a)(Object(i.a)({},e),{},{mapSubscriptionKey:t})}))}})]})]})}))),q=n(68),$=n(146),ee=n(148),te=n(67),ne=Object(l.l)({listGrid:{width:"90%",display:"flex",justifyContent:"center",alignItems:"center",gap:20},listGridItem:{padding:5,width:200,height:180,alignItems:"center",textAlign:"center",display:"inline-flex",justifyContent:"center",border:"1px solid black"},clickable:{backgroundColor:"#f3f2f1","&:hover":{backgroundColor:"#FFFFFF",cursor:"pointer"}},button:{display:"flex",flexDirection:"column"}}),ae=r.a.memo(r.a.forwardRef((function(e,t){var n=e.enableNext,c=Object(a.useState)([null]),s=Object(u.a)(c,2),o=s[0],l=s[1],p=Object(a.useContext)(W),b=p.mapSubscriptionKey,f=p.store,m=p.managementCredentials,O=Object(a.useRef)(!1),v=Object(a.useCallback)((function(e){e.forEach((function(e){var t=new FileReader;t.onload=Object(h.a)(j.a.mark((function n(){var a;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,F(t.result,"us",b,(function(t){l((function(n){return n.map((function(n){return(null===n||void 0===n?void 0:n.name)===e.name?Object(i.a)(Object(i.a)({},n),{},{progress:t}):n}))}))}));case 2:(a=n.sent)&&l((function(t){return t.map((function(t){return(null===t||void 0===t?void 0:t.name)===e.name?Object(i.a)(Object(i.a)({},t),{},{uuid:a}):t}))}));case 4:case"end":return n.stop()}}),n)}))),t.readAsArrayBuffer(e),l((function(t){return[{name:e.name,size:d(e.size),progress:0}].concat(Object(q.a)(t))}))}))}),[l,b]),g=Object(te.a)({onDrop:v,maxFiles:1,accept:".zip"}),x=g.getRootProps,y=g.getInputProps;Object(a.useImperativeHandle)(t,(function(){return{process:function(){f({drawingUUIDs:o.filter((function(e){return null===e||void 0===e?void 0:e.uuid})).map((function(e){return null===e||void 0===e?void 0:e.uuid}))})}}}),[f,o]),Object(a.useEffect)((function(){o.length>1&&!O.current&&(n(),O.current=!0)}),[o,n]);var I=r.a.useCallback((function(e,t){var n;return Object(L.jsx)("div",{className:"".concat(ne.listGridItem," ").concat(null===e?ne.clickable:""),children:null===e?Object(L.jsxs)("div",Object(i.a)(Object(i.a)({},x()),{},{children:[Object(L.jsx)("input",Object(i.a)({},y())),Object(L.jsxs)("div",{className:ne.button,children:[Object(L.jsx)($.a,{iconName:"AddIn"}),Object(L.jsx)("h3",{children:"Add a drawing"})]})]})):Object(L.jsxs)("div",{children:[Object(L.jsx)("h2",{children:e.name}),Object(L.jsx)(ee.a,{label:e.progress<1?"Uploading package...":"Package ready.",description:null!==(n=e.uuid)&&void 0!==n?n:"",percentComplete:e.progress,progressHidden:1===e.progress}),Object(L.jsx)("h3",{children:e.size})]})},"upload-b-".concat(t))}),[y,x]);return b&&m?Object(L.jsx)("div",{className:ne.listGrid,children:o.map(I)}):Object(L.jsx)("div",{children:"loading"})}))),re=n(23),ce=Object(l.l)({content:{width:"90%",display:"flex",justifyContent:"center",alignItems:"center"}}),se=r.a.memo(r.a.forwardRef((function(){var e=Object(a.useState)({label:"",description:""}),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useContext)(W),s=c.drawingUUIDs,o=c.mapSubscriptionKey,l=c.store,p=Object(a.useCallback)(Object(h.a)(j.a.mark((function e(){var t,n,a,c,i,u,p,d,b,f,m,h,O;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return");case 2:n=[],a=Object(re.a)(s),e.prev=4,a.s();case 6:if((c=a.n()).done){e.next=15;break}return i=c.value,r({label:"Converting packages",description:"Converting package ".concat(i)}),e.next=11,R(i,"us",o);case 11:(u=e.sent)&&n.push(u);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),a.e(e.t0);case 20:return e.prev=20,a.f(),e.finish(20);case 23:d=0,b=n;case 24:if(!(d<b.length)){e.next=33;break}return m=b[d],r({label:"Creating data set",description:null!==(f=p)&&void 0!==f?f:"This might take some time."}),e.next=29,P(m,"us",o,p);case 29:p=e.sent;case 30:d++,e.next=24;break;case 33:if(r({label:"Dataset created. Creating tileset ...",description:null!==(t=p)&&void 0!==t?t:""}),!p){e.next=45;break}return e.next=37,D(p,"us",o);case 37:if(h=e.sent,r({label:"Tileset created. Creating stateset ...",description:null!==h&&void 0!==h?h:""}),!h){e.next=45;break}return e.next=42,z(p,"us",o);case 42:O=e.sent,r({label:"State set created.",description:null!==O&&void 0!==O?O:""}),l({tileSetId:h,statesetId:O});case 45:case"end":return e.stop()}}),e,null,[[4,17,20,23]])}))),[s,o,r,l]);return Object(a.useEffect)((function(){p()}),[p]),Object(L.jsx)("div",{className:ce.content,children:Object(L.jsx)(ee.a,Object(i.a)({},n))})}))),oe=Object(l.l)({listGrid:{width:"90%",display:"flex",justifyContent:"center",alignItems:"center",gap:20},listGridItem:{padding:5,width:200,height:180,alignItems:"center",textAlign:"center",display:"inline-flex",justifyContent:"center",border:"1px solid black"},clickable:{backgroundColor:"#f3f2f1","&:hover":{backgroundColor:"#FFFFFF",cursor:"pointer"}},button:{display:"flex",flexDirection:"column"}}),ie=r.a.memo(r.a.forwardRef((function(e,t){var n=e.enableNext,c=Object(a.useState)(null),s=Object(u.a)(c,2),o=s[0],i=s[1],l=Object(a.useState)(null),p=Object(u.a)(l,2),d=p[0],b=p[1],f=Object(a.useContext)(W),m=f.managementCredentials,O=f.subscriptionId,v=f.centralDetails,g=f.store,x=Object(a.useRef)(!1),y=Object(a.useCallback)(function(){var e=Object(h.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,C(t,n);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[i]);Object(a.useEffect)((function(){o&&v&&b(o.findIndex((function(e){return e.subdomain===v.appSubdomain})))}),[o,v]),Object(a.useEffect)((function(){m&&y(m,O)}),[y,m,O]),Object(a.useEffect)((function(){null===d||x.current||(n(),x.current=!0)}),[d,n]),Object(a.useImperativeHandle)(t,(function(){return{process:function(){var e=Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(m,o[d].subdomain);case 2:(t=e.sent)&&g({centralDetails:{appSubdomain:o[d].subdomain,apiKey:t}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}),[m,o,d,g]);var I=r.a.useCallback((function(e,t){return Object(L.jsx)("div",{className:"".concat(oe.listGridItem," ").concat(d!==t?oe.clickable:""),onClick:function(){b(t)},children:Object(L.jsxs)("div",{children:[Object(L.jsx)("h2",{children:null===e||void 0===e?void 0:e.displayName}),Object(L.jsx)("p",{children:"https://".concat(null===e||void 0===e?void 0:e.subdomain,".azureiotcentral.com")}),d===t&&Object(L.jsx)($.a,{iconName:"CheckMark"})]})},"central-app-".concat(t))}),[b,d]);return o?Object(L.jsx)("div",{className:oe.listGrid,children:o.map(I)}):Object(L.jsx)("div",{className:"centered",children:Object(L.jsx)(ee.a,{className:"pageload"})})}))),ue=ie,le=Object(l.l)({content:{width:"90%",display:"flex",justifyContent:"center",alignItems:"center"}}),pe={mapSubscriptionKey:"aipGMyZjmHtjPnOTGTCbWQawlMoQ6MOwVLN2QFpa4fw",mapTilesetId:"0d76d5d2-36fc-1aaa-d511-0302eb3e4bc4",mapStatesetId:"9587d752-caad-37a2-bd2a-a4db8afc0e70",iotcApiKey:"SharedAccessSignature sr=3a5279fe-8817-4181-af6d-27323aa9e6d1&sig=RP1WYdta%2F8kFSHZ3pf7Cu2Gruoa07Gp2ye8rBwpYhmY%3D&skn=API&se=1665043186510",iotcSubdomain:"ubsmap"},de=r.a.memo(r.a.forwardRef((function(){var e=Object(a.useState)({label:"Creating web site",description:"This might take a while. Please don't close the page until creation is completed."}),t=Object(u.a)(e,2),n=t[0],r=(t[1],Object(a.useState)(null)),c=Object(u.a)(r,2),s=c[0],o=c[1],l=Object(a.useContext)(W),p=l.managementCredentials,d=l.subscriptionId,b=l.resourceGroup,f=Object(a.useCallback)(function(){var e=Object(h.a)(j.a.mark((function e(t,n,a){var r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("4ac2d501-d648-4bd0-8486-653a65f90fc7","2efa8bb6-25bf-4895-ba64-33806dd00780");case 2:return r=e.sent,e.next=6,V(r,"2efa8bb6-25bf-4895-ba64-33806dd00780","lucamaps",pe);case 6:(c=e.sent)&&o(c);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[]);return Object(a.useEffect)((function(){f(p,d,b)}),[f,p,d]),s?Object(L.jsxs)("div",{className:le.content,children:[Object(L.jsx)("h2",{children:"Congratulations!!"}),Object(L.jsx)("h4",{children:"Your website is available here:"}),Object(L.jsx)("a",{href:s,children:s})]}):Object(L.jsx)("div",{className:le.content,children:Object(L.jsx)(ee.a,Object(i.a)({},n))})}))),be=de,fe=Object(l.l)({wizardBody:{display:"flex",justifyContent:"center",textAlign:"center"},footer:{position:"absolute",bottom:"5%",justifyContent:"space-between",width:"70%"},arrow:{alignItems:"center",display:"flex",width:100,justifyContent:"space-evenly"},icon:{cursor:"pointer"}});function me(){var e=function(e){var t=Object(a.useState)(e||0),n=Object(u.a)(t,2),r=n[0],c=n[1],s=Object(a.useCallback)((function(){c((function(e){return e+1}))}),[c]),o=Object(a.useCallback)((function(){c((function(e){return e-1}))}),[c]);return[r,s,o]}(4),t=Object(u.a)(e,3),n=t[0],r=t[1],c=t[2],s=Object(a.useState)(!1),o=Object(u.a)(s,2),l=o[0],d=o[1],b=[Object(a.useRef)(null),Object(a.useRef)(null),Object(a.useRef)(null),Object(a.useRef)(null),Object(a.useRef)(null)];return Object(L.jsxs)("div",{className:fe.wizardBody,children:[function(e){switch(e){case 0:return Object(L.jsx)(X,{ref:b[0],enableNext:function(){return d(!0)}});case 1:return Object(L.jsx)(ae,{ref:b[1],enableNext:function(){return d(!0)}});case 2:return Object(L.jsx)(se,{ref:b[2],enableNext:function(){return d(!0)}});case 3:return Object(L.jsx)(ue,{ref:b[3],enableNext:function(){return d(!0)}});case 4:return Object(L.jsx)(be,{ref:b[4],enableNext:function(){return d(!0)}});default:return null}}(n),Object(L.jsxs)("div",{className:fe.footer,children:[Object(L.jsxs)("div",{className:fe.arrow,style:Object(i.a)(Object(i.a)({},0===n?{display:"none"}:{}),{},{float:"left"}),children:[Object(L.jsx)(p.a,{iconName:"Back",onClick:c,className:fe.icon}),Object(L.jsx)("p",{children:"Previous"})]}),Object(L.jsxs)("div",{className:fe.arrow,style:Object(i.a)(Object(i.a)({},4!==n&&l?{}:{display:"none"}),{},{float:"right"}),children:[Object(L.jsx)("p",{children:"Next"}),Object(L.jsx)(p.a,{iconName:"Forward",onClick:function(){var e;null===(e=b[n].current)||void 0===e||e.process(),r(),d(!1)},className:fe.icon})]})]})]})}var je=r.a.memo((function(){return Object(L.jsx)(Q,{children:Object(L.jsx)(me,{})})})),he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,149)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};Object(o.a)(),s.a.render(Object(L.jsx)(r.a.StrictMode,{children:Object(L.jsx)(je,{})}),document.getElementById("root")),he()},58:function(e){e.exports=JSON.parse('{"$schema":"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#","contentVersion":"1.0.0.0","parameters":{"gitRepo":{"type":"string","metadata":{"description":"The name of the git repository containing the website code."}},"gitBranch":{"type":"string","defaultValue":"","metadata":{"description":"The name of the git repository branch containing the website code if different from default"}},"siteFolder":{"type":"string","metadata":{"description":"The website folder in the git repository"}},"scriptUri":{"type":"string","metadata":{"description":"Url of the deployment script"}},"mapSubscriptionKey":{"type":"string","metadata":{"description":"The azure map subscription key"}},"mapTilesetId":{"type":"string","metadata":{"description":"The map tileset Id"}},"mapStatesetId":{"type":"string","metadata":{"description":"The map stateset Id"}},"iotcApiKey":{"type":"string","metadata":{"description":"The IoTCentral Api Key"}},"iotcSubdomain":{"type":"string","metadata":{"description":"The IoTCentral App subdomain"}}},"variables":{"storageContributorId":"17d1049b-9a84-46fb-8f53-869881c3d3ab","storageName":"[concat(\'iotcindsa\',uniqueString(resourceGroup().id))]"},"resources":[{"type":"Microsoft.Storage/storageAccounts","apiVersion":"2021-04-01","name":"[variables(\'storageName\')]","location":"[resourceGroup().location]","kind":"StorageV2","sku":{"name":"Standard_LRS"}},{"type":"Microsoft.ManagedIdentity/userAssignedIdentities","apiVersion":"2018-11-30","name":"DeploymentScript","location":"[resourceGroup().location]"},{"type":"Microsoft.Authorization/roleAssignments","apiVersion":"2020-04-01-preview","scope":"[format(\'Microsoft.Storage/storageAccounts/{0}\', variables(\'storageName\'))]","name":"[guid(resourceGroup().id, resourceId(\'Microsoft.ManagedIdentity/userAssignedIdentities\', \'DeploymentScript\'), subscriptionResourceId(\'Microsoft.Authorization/roleDefinitions\', variables(\'storageContributorId\')))]","properties":{"roleDefinitionId":"[subscriptionResourceId(\'Microsoft.Authorization/roleDefinitions\', variables(\'storageContributorId\'))]","principalId":"[reference(resourceId(\'Microsoft.ManagedIdentity/userAssignedIdentities\', \'DeploymentScript\')).principalId]","principalType":"ServicePrincipal"},"dependsOn":["[resourceId(\'Microsoft.ManagedIdentity/userAssignedIdentities\', \'DeploymentScript\')]","[resourceId(\'Microsoft.Storage/storageAccounts\', variables(\'storageName\'))]"]},{"type":"Microsoft.Resources/deploymentScripts","apiVersion":"2020-10-01","name":"deploymentScript","location":"[resourceGroup().location]","kind":"AzureCLI","identity":{"type":"UserAssigned","userAssignedIdentities":{"[resourceId(\'Microsoft.ManagedIdentity/userAssignedIdentities\', \'DeploymentScript\')]":{}}},"properties":{"primaryScriptUri":"[parameters(\'scriptUri\')]","azCliVersion":"2.28.0","storageAccountSettings":{"storageAccountName":"[variables(\'storageName\')]","storageAccountKey":"[listKeys(resourceId(\'Microsoft.Storage/storageAccounts\',variables(\'storageName\')),\'2021-04-01\').keys[0].value]"},"retentionInterval":"PT4H","environmentVariables":[{"name":"RESOURCE_GROUP_NAME","value":"[resourceGroup().name]"},{"name":"STORAGE_ACCOUNT_NAME","value":"[variables(\'storageName\')]"},{"name":"GIT_REPO","value":"[parameters(\'gitRepo\')]"},{"name":"GIT_BRANCH","value":"[parameters(\'gitBranch\')]"},{"name":"SITE_FOLDER","value":"[parameters(\'siteFolder\')]"},{"name":"REACT_APP_MAP_SUBSCRIPTION_KEY","value":"[parameters(\'mapSubscriptionKey\')]"},{"name":"REACT_APP_MAP_TILESET_ID","value":"[parameters(\'mapTilesetId\')]"},{"name":"REACT_APP_MAP_STATESET_ID","value":"[parameters(\'mapStatesetId\')]"},{"name":"REACT_APP_IOTC_API_KEY","value":"[parameters(\'iotcApiKey\')]"},{"name":"REACT_APP_IOTC_APP_SUBDOMAIN","value":"[parameters(\'iotcSubdomain\')]"}]},"dependsOn":["[resourceId(\'Microsoft.ManagedIdentity/userAssignedIdentities\', \'DeploymentScript\')]","[extensionResourceId(resourceId(\'Microsoft.Storage/storageAccounts\', variables(\'storageName\')), \'Microsoft.Authorization/roleAssignments\', guid(resourceGroup().id, resourceId(\'Microsoft.ManagedIdentity/userAssignedIdentities\', \'DeploymentScript\'), subscriptionResourceId(\'Microsoft.Authorization/roleDefinitions\', variables(\'storageContributorId\'))))]","[resourceId(\'Microsoft.Storage/storageAccounts\', variables(\'storageName\'))]"]}],"outputs":{"staticWebsiteUrl":{"type":"string","value":"[reference(resourceId(\'Microsoft.Storage/storageAccounts\',variables(\'storageName\'))).primaryEndpoints.web]"}}}')},87:function(e,t,n){}},[[111,1,2]]]);
//# sourceMappingURL=main.13021395.chunk.js.map